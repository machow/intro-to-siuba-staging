<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Facets - Siuba tutorials</title><meta name="gridsome:hash" content="a31127a3b6d8acc9b70b338d8376326ad6763d8a"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.13"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="og:url" name="og:url" content="undefined/"><meta data-vue-tag="ssr" name="author" content=""><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.4c9809035c230f0e6cac26955353be8b.png"><link rel="preload" href="/assets/css/0.styles.c32742f7.css" as="style"><link rel="preload" href="/assets/js/app.fa04edd8.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--course-landing-vue.086594e8.js" as="script"><link rel="preload" href="/assets/js/vue-remark--tutorial--intro-data-science--build--02-d-facets-md.60ee8c03.js" as="script"><link rel="prefetch" href="/assets/js/25.8a620e99.js"><link rel="prefetch" href="/assets/js/26.f6293d18.js"><link rel="prefetch" href="/assets/js/27.aac19fb0.js"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.0910fdc2.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.eb9ea64c.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.1e7f4da1.js"><link rel="prefetch" href="/assets/js/page--src--pages--test-vue.82a74315.js"><link rel="prefetch" href="/assets/js/page--src--templates--post-vue.6cd27920.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--01-b-filter-md.7f037958.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--01-c-arrange-md.2b1d2334.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--01-d-mutate-md.0463199c.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--01-f-wrap-up-md.feb47006.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--01-intro-data-science-md.020363e1.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--02-a-intro-data-viz-md.49d46fcd.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--02-b-geoms-md.13f2dfbe.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--02-c-aesthetics-md.5f6ff605.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--03-a-summarize-md.31b483ed.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--03-b-group-by-md.714192d5.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--03-c-summary-viz-md.92671fe8.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--04-a-line-plots-md.f40f2afb.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--04-b-barcharts-md.3750238c.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--04-c-histograms-md.03133726.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--build--04-d-boxplot-md.3fb096fa.js"><link rel="prefetch" href="/assets/js/vue-remark--tutorial--intro-data-science--index-md.ef1f110f.js"><link rel="stylesheet" href="/assets/css/0.styles.c32742f7.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout" data-v-839724a0><h1 class="course-title" data-v-839724a0>Facets</h1><div class="container" data-v-839724a0><div class="main" data-v-839724a0></div><div class="sidebar" data-v-839724a0><div class="resources sidebar-box" data-v-839724a0><h3 class="box-title" data-v-839724a0>resources</h3></div><div class="authors sidebar-box" data-v-839724a0><h3 class="box-title" data-v-839724a0>authors</h3></div></div></div><div data-v-839724a0><div><details style="display:none;"><div language="python" class="code-cell--container"><div class="top-bar"><div class="is-pulled-right"><!----><div class="v-spinner" style="display:none;"><div class="v-pulse v-pulse1" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.12s;"></div><div class="v-pulse v-pulse2" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.24s;"></div><div class="v-pulse v-pulse3" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.36s;"></div></div></div></div><div class="vue-codemirror"><textarea name="codemirror" placeholder=""></textarea></div><button>run</button><button>reset</button><div class="code-cell--output"><div></div><div class="container-editor container"></div></div></div></details><div><div class="reveal-container"><div class="reveal show-notes"><div class="slides"><section class=""><section class=""> <h1 id=faceting>Faceting</h1> <p>You&#39;ve learned to use color in your scatterplots.</p> <p>Now you&#39;ll learn another way to explore your data. plotnine lets you divide your plot into subplots to get one smaller graph for each level of a variable.</p> <p>This is called faceting, and it&#39;s another powerful way to communicate relationships within your data.</p> </section></section><section class=font-size-sm><section class=font-size-sm> <h1 id=faceting-1>Faceting</h1> <pre><code class=language-python>asia_top200 = (
  music_top200
  &gt;&gt; filter(_.continent == &quot;Asia&quot;)
)
asia_top200</code></pre> <div> <style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe thead th{text-align:right}</style><p></p> <table border=1 class=dataframe> <thead> <tr style=text-align:right> <th></th> <th>country</th> <th>position</th> <th>track_name</th> <th>artist</th> <th>streams</th> <th>duration</th> <th>continent</th> </tr> </thead> <tbody> <tr> <th>4600</th> <td>Hong Kong</td> <td>1</td> <td>WANNABE</td> <td>ITZY</td> <td>112648</td> <td>191.242</td> <td>Asia</td> </tr> <tr> <th>4601</th> <td>Hong Kong</td> <td>2</td> <td>Intentions (feat. Quavo)</td> <td>Justin Bieber</td> <td>104467</td> <td>212.867</td> <td>Asia</td> </tr> <tr> <th>4602</th> <td>Hong Kong</td> <td>3</td> <td>Señorita</td> <td>Shawn Mendes</td> <td>84196</td> <td>190.960</td> <td>Asia</td> </tr> <tr> <th>...</th> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> </tr> <tr> <th>12197</th> <td>Viet Nam</td> <td>198</td> <td>Đưa Nhau Đi Trốn (Chill Version)</td> <td>Đen</td> <td>20750</td> <td>241.959</td> <td>Asia</td> </tr> <tr> <th>12198</th> <td>Viet Nam</td> <td>199</td> <td>Hôm Nay Tôi Buồn</td> <td>Phùng Khánh Linh</td> <td>20580</td> <td>275.000</td> <td>Asia</td> </tr> <tr> <th>12199</th> <td>Viet Nam</td> <td>200</td> <td>Kick It</td> <td>NCT 127</td> <td>20495</td> <td>233.013</td> <td>Asia</td> </tr> </tbody> </table> <p>2600 rows × 7 columns</p> </div> <aside class=notes> <p>For this example, we&#39;ll use Spotify top 200 track data for countries in Asia.</p> </aside></section></section><section class=""><section class=""> <h1 id=faceting-2>Faceting</h1> <pre><code class=language-python>(asia_top200
  &gt;&gt; ggplot(aes(&quot;position&quot;, &quot;streams&quot;, color = &quot;country&quot;))
   + geom_point()
)</code></pre> <p><img src=/assets/img/02d-slides_8_0.c1fcbe1d.png alt=png></p> <aside class=notes> <p>This plot shows the number of streams for each top 200 track in Asian countries.</p> <p>There are so many countries that the plot hits two issues:</p> <ol> <li>it has to use many different colors.</li> <li>many points are on top of each other.</li> </ol> <p>A facetted plot could help here, by giving each country its own small panel.</p> </aside></section></section><section class=""><section class=""> <h1 id=faceting-3>Faceting</h1> <pre><code class=language-python>(asia_top200
  &gt;&gt; ggplot(aes(&quot;position&quot;, &quot;streams&quot;, color = &quot;country&quot;))
   + geom_point()
   + facet_wrap(&#39;~country&#39;)
)</code></pre> <pre><code>/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/plotnine/utils.py:371: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.</code></pre><p><img src=/assets/img/02d-slides_11_1.5955671d.png alt=png></p> <aside class=notes> <p>You facet a plot by adding another option, with a +, to the end of your code, after geom_point.</p> <p>You add facet underscore wrap, then &quot;tilde country&quot; within the parentheses.</p> <p>In R, the tilde symbol typically means &quot;by&quot;, meaning that we&#39;re splitting the plot by country, and you can usually find it on the upper left of your keyboard. This tells ggplot2 to divide the data into subplots based on the country variable.</p> </aside></section></section><section class=""><section class=""> <h1 id=lets-practice>Let&#39;s practice!</h1> <aside class=notes> <p>Scroll down to get started with practice!</p> </aside></section></section></div></div></div></div><h3 id="exercise-1"><a href="#exercise-1" aria-hidden="true"><span class="fa fa-link"></span></a>Exercise 1:</h3><p><strong>TODO</strong></p><h3 id="exercise-2"><a href="#exercise-2" aria-hidden="true"><span class="fa fa-link"></span></a>Exercise 2:</h3><p>Below is the start of plotnine's documentation for <code>facet_wrap</code>. </p><img src="/assets/img/facet_wrap_docs.81eabe7b.png" style="width:100%;"><p>Notice that the Parameters section lists <code>ncol</code> and <code>nrow</code> options. These determine how many columns or rows to use. For example, the plot below has <code>nrow = 1</code>.</p><p>Try out the plot as is, and with the <code>nrow</code> argument changed to <code>ncol = 1</code>.
Then, answer the questions below.</p><div ex="a" exIndx="0" language="python" class="code-cell--container"><div class="top-bar"><div class="is-pulled-right"><!----><div class="v-spinner" style="display:none;"><div class="v-pulse v-pulse1" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.12s;"></div><div class="v-pulse v-pulse2" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.24s;"></div><div class="v-pulse v-pulse3" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.36s;"></div></div></div></div><div class="vue-codemirror"><textarea name="codemirror" placeholder=""></textarea></div><button>run</button><button>reset</button><div class="code-cell--output"><div><pre><code>/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/plotnine/utils.py:371: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.
</code></pre><p><img alt="png" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 482 293' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-e2a791a2c9033a94167b22cadb76f55b'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-e2a791a2c9033a94167b22cadb76f55b)' width='482' height='293' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAnCAYAAAC/mE48AAAACXBIWXMAAAsTAAALEwEAmpwYAAAG3ElEQVRo3sVaZ1PrOhDN//81zMAHGBiGdimXXhII6U4jEBJSHbfs0xFZX9u4xTh5ntHItiRrtTpb5Qz5XPP5PLRwH8uyXOMMw6Blr7AxPFdcmpJcmaDFhzEE12QyoT9//tDx8TGdnZ3J%2bvz8nLa2tuj09JT29vbo%2bvrablcUhY6Ojuj29lY%2bo08%2bn5fl/v6eTk5OaH9/X9a7u7v08vISuvAgmpdlRiYOx/0u0zSpUCjQ4%2bMjlctl2tzcpE6nQ9lsVpZcLkdPT0%2byDfdvb2%2byb71ep2KxKNsqlQq1223Z5/n5Wd6jL5hSq9VCCfejLwkSMn5cLJVKcnGoQRwWhJ17fX2V9w8PD3KHqtUqNZtNubtYDEqj0ZAFC0WNNvTBAsEAjEMbCtrwDSwW9/yOayADczJT7u7uJF34FmgDI1GjXdO0ZAhwQocLJsXFMg4mANqXl5c2hAF/EOqUYxB2dXVlv8N4IAUXFgp4g2BGENp5Diwi%2b5S123Dd3NzIeXZ2diTTcY/5QQf6MO1g/GAwSC4C3kEXFxc2AsBlFDAFu4AabVxzO5gEWEMPgCB%2b7yz8TXv3it91pVShfO5FLoz7cj/MCdQAeXiPZ%2b%2b8QJaqqr9DAHbi8/OTRqOR/GiSazab2bIbhxCBN1m/6R1q62%2bklGuJZTmxDuBBuq5LGEL2ojRwkFaeTqdy95mhcceplkpjY0LlUjnRvL%2b2At5BgJbzfdRETgZA1mMjwPkNa07FUvFXCEjkB/gpQS8Dwu6TMoDbNUujL3MQyoA0djqWGeQ6CAGWEBNL11JBALcPjAEVVWEZhDFYlgFpMCEWAuzdardIazZWIgJhDIhC4K8R4P0g2%2bogbqclAtznw%2bhSTVUCrYCNli9DmEx1oWTTEQUbAXBcYMJ6vZ6LAVG7kQYDtLlGI2PssgK%2b35%2bYdH87DkVFmKWIZACIf39/lx6dS/aFm4n7WV0hS52mJgKufgEi4F0Ydr5amQlmWIGWahn/IOO3y14RmBbyYuEq9Xe3Se9%2bpKsDFt1My/wxb9ACHgQKWk0t0lL5KU3vsysaZOfFVoLSPlsrEQHvWMztxwC%2bHw1N4e5agXRwTIH5d7a3ZdyB8BveaRj9GQwE7DkACfMD5gsGBSnIVTKgWdeo3zNsBRgE/a%2bvL/oQLj3ceoTgvC4Onn4gAC7w4eGhTHAwIZIBi46zWpWsmRrLHqfNgDCvM/Rb1TKNBCN29/ZkkgVBFtbICRkXA6D8kLXhaMrWAawcP7s0N/RQc7gOBATJsS8tqk6mWNdUrAkbPB6PaTgcypAZNLoYgEQCUlCIApHAgDhwPsBvcokKpUpGv7cWBPB98VUVliraF0H9ZnyQNbekNUNShXMFfn0lA5DsQCfIDGQHMXeYTTUnY5dLvA4GjEbfMgwmDAZGKALquiJD7VarJXMHfolX7p%2bBckAW54cIRNjWdYmA93kyNqlSVn0YsMgwwFcQil%2bdqpIB49HY3liE%2bqihKG0E%2bHlnTitgO0pikHSEhEJUSwVfmVwlAuK646gLeVUsckhnZ6cyQ4UMNbJGuEdaDaiwGeCnWPyCIa3VpLlpSFNoqer/goAo93aZuMAWAT85ZzMon4UWnQsxmTX%2bucGrcIXjMKDd0qjV0CIt0j%2b32XJlppzPLhEIc4Unz9%2bZWv3jnYYXZ4vsjbVyBPhBHw7QMlFgnESKKycog6FOh/JCRmZCzi2HYjR6n65cwDoQEDcjlUo4DGuAkx1oyIIQAQumbmE%2btGadxve3NLr6m2pOMA4ChgNTxgErTYn9EIGFEuRLFWHq6OZS6oJ1BUN2suRdp%2b6HvrJk6Y%2bUmCUWWW40yRBh76z2neKeZB9d7vC6lOCqYB95Nvjy98J2db89v4kdCUadCzAD4p4LhCFg2fKr02HnRwrCf9aF02N02mQK5WcJN1lXqkudDCW5kp5IpXc6vPApc8IKDITj03vO0UCp0VQESmOhHCdih%2bEyY6cRPqPwM0q/35enSogvEIHxe2/foGecTPHzdDEXt0V9K1UElAUUKzWF6u02vYp7HEwq9TrVBLzhUsJRwk6jINqCawnow/fGOz7yxoL4GB3PODzls38U5zE7j8XRGh/PYV7ui8iOj%2b7Qn4/O%2bWjdDFDQif4QsQMPwVlMwuExnkE0R4vdble2gXjvhQiM/wCRlkTsGBbACVeMBeRBvPeCT8L/AfC8zrGIXDEvH8%2bn/oMEKzBwFYRDtvEOi8IzCtpBKOCO90530zkWxCPXAJGAiIB49MFYLjwmybxOZZsKAuJyMywQcRIESG9sbMiU1MHBgfyVxhl6B4XWy9CV6k9SUYcMcVLNzm9gN3m3sPv4D8hvbNJ5f%2bsZ/geddw%2bqDObt5QAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="482" data-src="/assets/static/02d-facets_5_1.8e7c192.647ad2f32f107cd70cca876c8c7c6e60.png" data-srcset="/assets/static/02d-facets_5_1.8e7c192.647ad2f32f107cd70cca876c8c7c6e60.png 482w" data-sizes="(max-width: 482px) 100vw, 482px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/02d-facets_5_1.8e7c192.647ad2f32f107cd70cca876c8c7c6e60.png" class="g-image g-image--loaded" width="482" alt="png"></noscript></p></div><div class="container-editor container"></div></div></div><div class="prompt-container"><div class="prompt-title"><span>Test yourself</span></div><div class="prompt-header"><p>Which of the three artists tends to have the lowest valence?</p><p>(click to answer)</p></div><div class="prompt-body"><div data-v-5a584c7a><button data-v-5a584c7a>Submit</button><!----><div style="display:none;"><span>Correct! We'll discuss how to measure the idea of &quot;tends to have&quot; in the next chapter.</span></div><div style="display:none;"><span>That's not right. This artist tends to have the highest valence.</span></div><div style="display:none;"><span>That's not right. Look for the cluster of points toward the bottom of the plot.</span></div></div></div></div><p>Which value seems easier to compare across facets, when ncol is set to 1?</p><details><summary>answer</summary>
    
This is subjective, but I would say energy is easier to compare, since there is only one x-axis for across all plots. (For example, there is a only one spot on the x-axis where energy is .25).
    
</details><!----></div></div></div>
    <script>window.__INITIAL_STATE__={"data":{"metadata":{"siteName":"Siuba tutorials","siteDescription":""},"page":{"id":"94b3a633bc13d33f230e121a1bd4880e","title":"Facets","content":"\n\u003CNotebook\n  v-slot=\"nb\"\n  branch=\"master\"\n  repo=\"machow\u002Fintro-to-siuba\"\n  url=\"https:\u002F\u002Fmybinder.org\"\n  useBinder=\"1\"\n  useStorage=\"1\"\n  \u003E\n\n\n\u003Cdetails v-fix-codemirror v-show=\"nb.debut\"\u003E\n\u003Ccode-cell  :status=\"nb.status\" :onExecute=\"nb.execute\" :onReady=\"nb.updateSetupCode\"  language=\"python\"\u003E\n\n\n    # TODO: explain how to run this, and that they only need the gist (loads tools)\n    \n    # wranglign ---------\n    import pandas as pd\n    from siuba import *\n    \n    # plotting ----------\n    from plotnine import *\n    \n    theme_set(theme_classic(base_family = \"Noto Sans CJK JP\"))\n    \n    # data --------------\n    from music_top200 import music_top200, track_features\n    \n    # student support ----------\n    from siuba import pipe\n    from IPython.display import HTML, display\n    from siututor import Blank\n    ___ = Blank()\n    \n    # DataFrame display --------\n    pd.set_option(\"display.max_rows\", 6)\n    \n    from IPython import get_ipython\n    # special ipython function to get the html formatter\n    html_formatter = get_ipython().display_formatter.formatters['text\u002Fhtml']\n    \n    # here, we avoid the default df._repr_html_ method, since it inlines css\n    # (style tags make vue angry)\n    html_formatter.for_type(\n        pd.DataFrame,\n        lambda df: df.to_html(max_rows = pd.get_option(\"display.max_rows\"), show_dimensions = True)\n    )\n    \n    # remove the \u003Cggplot: (528...)\u003E printout\n    html_formatter.for_type(ggplot, lambda g: \"\")\n    \n\n\n\n\n\u003C\u002Fcode-cell\u003E\n\u003C\u002Fdetails\u003E\n\n\nimport slides from '..\u002Fslides\u002F02d-slides.markdown'\n\n\u003CRevealSlides :slides=\"slides\" \u002F\u003E\n\n### Exercise 1: \n\n**TODO**\n\n### Exercise 2:\n\nBelow is the start of plotnine's documentation for `facet_wrap`. \n\n\n\u003Cimg src=\"..\u002Fassets\u002Ffacet_wrap_docs.png\" style=\"width: 100%;\"\u003E\n\nNotice that the Parameters section lists `ncol` and `nrow` options. These determine how many columns or rows to use. For example, the plot below has `nrow = 1`.\n\nTry out the plot as is, and with the `nrow` argument changed to `ncol = 1`.\nThen, answer the questions below.\n\n\u003Ccode-cell  :status=\"nb.status\" :onExecute=\"nb.execute\"  ex=\"a\" :exIndx=\"0\" language=\"python\"\u003E\n\n\n    # This code keeps the 3 artists listed ----\n    artists_to_keep = [\"Billie Eilish\", \"ITZY\", \"Roddy Ricch\"]\n    \n    some_artists = (\n      track_features\n      \u003E\u003E filter(_.artist.isin(artists_to_keep))\n    )\n    \n    # This code plots the data ----\n    (some_artists\n      \u003E\u003E ggplot(aes(\"energy\", \"valence\", color = \"artist\"))\n       + geom_point()\n       + facet_wrap(\"~artist\", nrow = 1)\n       + labs(title = \"Song features across 3 artists\")\n    )\n\n\n\u003Ctemplate v-slot:output\u003E\n\n    \u002Fopt\u002Fhostedtoolcache\u002FPython\u002F3.8.12\u002Fx64\u002Flib\u002Fpython3.8\u002Fsite-packages\u002Fplotnine\u002Futils.py:371: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.\n\n\n\n    \n![png](.\u002F02d-facets_files\u002F02d-facets_5_1.png)\n    \n\n\n\n\n\n\n\n\n\n\u003C\u002Ftemplate\u003E\n\n\u003C\u002Fcode-cell\u003E\n\n\n\u003Cprompt-expandable header=\"Which of the three artists tends to have the lowest valence?\"\u003E\n\n\u003Cq-multiple-choice\u003E\n  \u003Cq-opt text=\"Billie Eilish\"\u003E\u003Cspan\u003ECorrect! We'll discuss how to measure the idea of \"tends to have\" in the next chapter.\u003C\u002Fspan\u003E\u003C\u002Fq-opt\u003E\n  \u003Cq-opt text=\"ITZY\"\u003E\u003Cspan\u003EThat's not right. This artist tends to have the highest valence.\u003C\u002Fspan\u003E\u003C\u002Fq-opt\u003E\n  \u003Cq-opt text=\"Roddy Ricch\"\u003E\u003Cspan\u003EThat's not right. Look for the cluster of points toward the bottom of the plot.\u003C\u002Fspan\u003E\u003C\u002Fq-opt\u003E\n\u003C\u002Fq-multiple-choice\u003E\n\n\u003C\u002Fprompt-expandable\u003E\n\n\nWhich value seems easier to compare across facets, when ncol is set to 1?\n\n\u003Cdetails\u003E\n\u003Csummary\u003Eanswer\u003C\u002Fsummary\u003E\n    \nThis is subjective, but I would say energy is easier to compare, since there is only one x-axis for across all plots. (For example, there is a only one spot on the x-axis where energy is .25).\n    \n\u003C\u002Fdetails\u003E\n\n\n\u003C\u002FNotebook\u003E\n\n","chapters":[],"authors":[],"resources":[]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.fa04edd8.js" defer></script><script src="/assets/js/page--src--templates--course-landing-vue.086594e8.js" defer></script><script src="/assets/js/vue-remark--tutorial--intro-data-science--build--02-d-facets-md.60ee8c03.js" defer></script>
  </body>
</html>
